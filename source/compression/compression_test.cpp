/*
 * compression_test.cpp
 *
 *  Created on: May 31, 2022
 *      Author: DavidWang
 */

#include <stdint.h>

#include "compression_test.h"
#include "compression.h"
#include "loglevels.h"

static const char *TAG = "compression_test"; // Logging prefix for this module

const static float eeg_ch[1024] = {463151,1158196,1829259,2468401,3028447,3433441,3606357,3499991,3115981,2503552,1740090,904417,56263,-769075,-1550767,-2265296,-2873684,-3321592,-3553160,-3531416,-3254147,-2756458,-2098485,-1344812,-546473,265361,1071652,1849378,2557522,3134635,3511227,3631856,3476067,3067259,2464544,1741472,962269,167383,-625094,-1404197,-2146583,-2804653,-3310158,-3592837,-3605346,-3342003,-2841705,-2173488,-1412077,-615744,182846,969394,1729790,2432332,3021358,3427119,3587834,3473036,3096240,2510385,1788408,998926,189237,-616532,-1404690,-2153152,-2818286,-3336069,-3638350,-3676649,-3441409,-2966690,-2317753,-1567877,-776191,22605,812467,1578805,2290675,2893494,3317718,3500178,3407653,3050613,2479955,1768327,985590,180695,-621514,-1408363,-2160242,-2836190,-3373406,-3702393,-3770783,-3563867,-3111204,-2475819,-1731530,-939935,-138424,655707,1428799,2152415,2774475,3226177,3442398,3385657,3061430,2516837,1823297,1052020,254674,-541604,-1323651,-2073406,-2752457,-3299823,-3645619,-3734495,-3547125,-3108670,-2479749,-1734539,-937148,-127957,674071,1455924,2191757,2832481,3310777,3560227,3539347,3248313,2729691,2052741,1289374,493907,-303642,-1088614,-1843496,-2531894,-3094840,-3462939,-3579067,-3420310,-3007813,-2399324,-1668211,-879655,-75881,722915,1503928,2242812,2892194,3385335,3654374,3654530,3381964,2876073,2204912,1441245,641336,-163237,-957766,-1726337,-2434809,-3025547,-3428242,-3582329,-3459933,-3077555,-2490399,-1772175,-990708,-191513,603134,1380651,2118987,2773709,3279794,3568574,3591887,3341232,2851985,2190437,1430271,630419,-174885,-969937,-1740129,-2454232,-3057426,-3480352,-3660601,-3566115,-3208492,-2639242,-1930877,-1152495,-352133,445900,1228758,1976036,2645814,3174778,3493803,3551791,3335753,2876724,2238359,1494061,704283,-94803,-886526,-1656904,-2376409,-2991682,-3433171,-3636001,-3563944,-3224267,-2665725,-1960659,-1180318,-375786,426493,1213703,1967645,2649504,3198079,3543827,3632363,3445619,3009741,2385581,1646676,855990,52937,-743680,-1519931,-2248299,-2878041,-3341069,-3571619,-3530207,-3219663,-2684887,-1996351,-1225780,-426277,373631,1160282,1916290,2604655,3165635,3529524,3639701,3474465,3056377,2444189,1711488,922931,119918,-677914,-1457684,-2194362,-2839703,-3326487,-3587177,-3578131,-3297067,-2784742,-2109915,-1345304,-546698,254708,1044102,1804972,2502489,3078849,3464548,3600820,3462075,3066782,2471051,1748154,964436,163663,-633069,-1413261,-2153903,-2809139,-3312870,-3596319,-3612312,-3354009,-2858417,-2192781,-1430838,-630950,173273,966279,1732976,2441301,3035864,3447538,3615133,3508457,3140897,2564948,1852925,1072773,271096,-528662,-1313413,-2061419,-2728924,-3251155,-3558646,-3601328,-3368272,-2892861,-2240624,-1485923,-689311,113383,905807,1674041,2388509,2996098,3428169,3621479,3541745,3197782,2638847,1936483,1160202,359241,-441005,-1227412,-1980210,-2658483,-3199415,-3533184,-3606715,-3404396,-2955049,-2321447,-1577741,-786252,14921,808188,1580184,2303234,2926089,3380402,3600838,3549057,3229358,2687813,1995281,1222990,423005,-377126,-1164123,-1920210,-2607478,-3165327,-3523780,-3626790,-3453861,-3028873,-2411467,-1675413,-885006,-81199,716412,1494378,2226723,2864442,3340342,3588004,3565771,3273541,2753620,2075103,1309789,511810,-289206,-1079184,-1841228,-2539267,-3114057,-3495191,-3623958,-3475730,-3070382,-2465298,-1734511,-944626,-139480,659549,1439324,2176047,2823454,3315944,3586365,3589980,3322427,2822313,2156978,1398744,603694,-196673,-987792,-1754005,-2461433,-3052486,-3456520,-3612259,-3490965,-3108479,-2519839,-1799156,-1015002,-213572,582654,1361550,2102030,2760728,3273279,3570927,3604647,3364607,2884874,2230883,1476103,679779,-123334,-917142,-1686949,-2401658,-3006570,-3432162,-3615487,-3523693,-3167641,-2598480,-1888881,-1108522,-306114,493624,1277914,2026841,2699076,3231608,3555028,3617374,3404513,2946533,2306758,1559033,764843,-38469,-833424,-1605934,-2327086,-2944554,-3389777,-3598387,-3533966,-3202972,-2653050,-1955510,-1180961,-380350,419593,1205535,1958737,2639950,3187700,3532317,3619430,3431148,2993963,2369182,1630740,841706,41090,-753238,-1528605,-2258635,-2893126,-3363619,-3603097,-3570346,-3266614,-2735925,-2048834,-1277916,-477356,323603,1111337,1869197,2561178,3128171,3500252,3619650,3462946,3051077,2441908,1709198,918715,113385,-685855,-1465533,-2200859,-2844408,-3329884,-3590338,-3582168,-3302676,-2792037,-2118574,-1354844,-556683,244692,1034680,1797247,2498142,3079915,3472919,3617650,3487371,3099362,2508887,1788936,1006096,204630,-593921,-1376881,-2121317,-2781505,-3291266,-3581375,-3603900,-3351194,-2859719,-2196642,-1436056,-636855,166984,959940,1727342,2437692,3035943,3452801,3626358,3525376,3162281,2589059,1878136,1098032,296033,-504050,-1289291,-2038588,-2708949,-3236063,-3550302,-3600783,-3375371,-2906281,-2258291,-1505585,-708999,95184,890257,1662149,2381226,2994172,3431823,3630095,3553810,3211228,2651698,1947539,1169432,367645,-432025,-1216913,-1968396,-2646886,-3190459,-3529309,-3609449,-3413791,-2969706,-2339113,-1596147,-803815,-1152,793588,1566976,2291844,2917678,3376609,3603149,3558113,3244514,2707176,2016188,1242725,439457,-365089,-1156635,-1916647,-2606790,-3166301,-3525201,-3627533,-3453032,-3026029,-2406859,-1670088,-880624,-79520,714233,1488407,2218474,2856553,3335757,3588966,3573031,3286118,2769224,2091025,1323883,523152,-280234,-1071364,-1833280,-2530565,-3105008,-3487154,-3618824,-3475371,-3076203,-2477987,-1753970,-969974,-169055,628167,1409160,2150344,2805029,3306448,3585715,3596263,3332408,2832445,2164551,1402707,604784,-196556,-986728,-1751204,-2457876,-3050772,-3459963,-3623633,-3511423,-3137111,-2554014,-1835463,-1050342,-245944,553957,1336318,2079818,2741455,3257470,3559510,3598475,3363965,2889237,2238995,1486296,690342,-113930,-910213,-1683694,-2403239,-3014033,-3446207,-3636173,-3550281,-3198695,-2632234,-1923737,-1143439,-340707,459314,1243853,1993390,2667124,3202345,3529493,3596004,3386973,2931938,2294186,1548036,755644,-45250,-837420,-1607721,-2328528,-2948551,-3399436,-3615959,-3559995,-3236061,-2690353,-1993735,-1217427,-413641,389628,1178371,1933987,2617990,3169759,3520023,3614035,3432849,3001649,2380737,1643732,854120,51782,-744551,-1521728,-2253424,-2889847,-3362977,-3605938,-3577222,-3277460,-2750015,-2065016,-1294979,-494322,307405,1096415,1856135,2550785,3121423,3498034,3622429,3470572,3062833,2456808,1726356,937568,133625,-664631,-1444273,-2181326,-2829058,-3321311,-3590489,-3591631,-3320386,-2815543,-2144758,-1380811,-580427,224067,1017226,1782723,2486526,3071623,3468637,3617916,3492150,3107874,2519773,1800672,1017420,214770,-585328,-1370085,-2116775,-2780009,-3293795,-3588738,-3616375,-3368381,-2880704,-2220403,-1461867,-664463,137546,928813,1695323,2406439,3007718,3429810,3609966,3515587,3157748,2587666,1877881,1097794,295840,-503378,-1286968,-2034727,-2705042,-3234801,-3554794,-3613507,-3397321,-2936686,-2294995,-1545892,-750567,53790,849557,1622223,2342387,2957460,3399070,3603536,3535412,3202043,2651493,1954818,1181767,382164,-418181,-1206250,-1962839,-2647597,-3197695,-3542329,-3626595,-3432804,-2988289,-2355564,-1609843,-815309,-11795,782367,1554449,2278491,2905177,3367321,3599324,3561179,3254765,2723963,2038469,1269627,470525,-330115,-1118399,-1876765,-2568082,-3132419,-3499736,-3612924,-3449754,-3032407,-2419599,-1685298,-894902,-90689,706968,1484819,2217939,2858601,3340322,3596317,3583514,3299939,2786380,2111392,1347291,549307,-252023,-1042526,-1806147,-2508151,-3090341,-3482365,-3624348,-3489657,-3096126,-2499855,-1774731,-988120,-184828,613342,1393755,2133825,2788469,3292381,3577287,3596062,3341481,2849883,2187805,1428418,629780,-174523,-968717,-1737297,-2447665,-3043834,-3456126,-3622979,-3514129,-3143288,-2563641,-1848417,-1066421,-264764,533191,1315069,2060304,2726400,3249512,3560436,3608601,3381971,2912574,2264756,1512179,715298,-89638,-885560,-1657770,-2376033,-2986760,-3421015,-3615392,-3535567,-3190460,-2629605,-1924992,-1146673,-344382,456181,1241890,1993271,2669897,3209452,3542430,3615780,3413625,2964345,2330272,1585269,791604,-12452,-808999,-1584321,-2310436,-2935863,-3392085,-3613636,-3562082,-3241696,-2698641,-2004027,-1229481,-427547,373783,1160940,1916077,2601425,3156650,3512080,3611940,3435972,3008312,2388921,1651939,861992,60171,-734112,-1507945,-2236135,-2870491,-3344402,-3591625,-3570232,-3279544,-2761204,-2083799,-1318905,-520718,280902,1071641,1834485,2533404,3109315,3491993,3622838,3477220,3074896,2473045,1745428,958323,155191,-642975,-1423347,-2162245,-2813220,-3310134,-3585007,-3592165};
const static float iamp_ch[1024] = {6.96E-04,6.95E-04,6.94E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.99E-04,6.99E-04,6.99E-04,6.99E-04,6.97E-04,6.95E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.96E-04,6.97E-04,6.97E-04,6.95E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.95E-04,6.95E-04,6.97E-04,6.98E-04,6.98E-04,6.99E-04,6.98E-04,6.97E-04,6.96E-04,6.94E-04,6.93E-04,6.94E-04,6.93E-04,6.94E-04,6.94E-04,6.96E-04,6.97E-04,6.97E-04,6.97E-04,6.96E-04,6.97E-04,6.95E-04,6.95E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.99E-04,6.99E-04,7.00E-04,6.98E-04,6.97E-04,6.95E-04,6.94E-04,6.94E-04,6.94E-04,6.95E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.99E-04,6.98E-04,6.97E-04,6.95E-04,6.94E-04,6.95E-04,6.94E-04,6.95E-04,6.95E-04,6.97E-04,6.97E-04,7.00E-04,6.99E-04,6.99E-04,6.98E-04,6.97E-04,6.96E-04,6.93E-04,6.93E-04,6.95E-04,6.95E-04,6.95E-04,6.96E-04,6.98E-04,6.98E-04,6.98E-04,6.98E-04,6.96E-04,6.95E-04,6.94E-04,6.94E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.98E-04,6.99E-04,6.99E-04,6.98E-04,6.98E-04,6.96E-04,6.95E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.96E-04,6.97E-04,6.97E-04,6.96E-04,6.95E-04,6.94E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.99E-04,6.99E-04,6.97E-04,6.96E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.94E-04,6.95E-04,6.97E-04,6.97E-04,6.98E-04,6.97E-04,6.96E-04,6.95E-04,6.94E-04,6.94E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.99E-04,6.99E-04,6.98E-04,6.96E-04,6.95E-04,6.94E-04,6.93E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.96E-04,6.98E-04,6.97E-04,6.98E-04,6.96E-04,6.95E-04,6.93E-04,6.94E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.99E-04,6.99E-04,6.98E-04,6.97E-04,6.96E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.98E-04,6.96E-04,6.95E-04,6.94E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.95E-04,6.96E-04,6.98E-04,6.99E-04,6.99E-04,6.97E-04,6.96E-04,6.96E-04,6.94E-04,6.94E-04,6.93E-04,6.94E-04,6.94E-04,6.95E-04,6.95E-04,6.96E-04,6.97E-04,6.97E-04,6.96E-04,6.94E-04,6.93E-04,6.93E-04,6.92E-04,6.94E-04,6.93E-04,6.94E-04,6.96E-04,6.97E-04,6.98E-04,6.98E-04,6.98E-04,6.96E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.92E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.97E-04,6.96E-04,6.95E-04,6.94E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.96E-04,6.97E-04,6.98E-04,7.00E-04,6.98E-04,6.97E-04,6.95E-04,6.94E-04,6.94E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.98E-04,6.97E-04,6.94E-04,6.93E-04,6.94E-04,6.93E-04,6.93E-04,6.94E-04,6.96E-04,6.96E-04,6.98E-04,6.99E-04,6.99E-04,6.99E-04,6.97E-04,6.96E-04,6.95E-04,6.93E-04,6.94E-04,6.93E-04,6.94E-04,6.94E-04,6.96E-04,6.96E-04,6.98E-04,6.98E-04,6.98E-04,6.95E-04,6.94E-04,6.94E-04,6.93E-04,6.94E-04,6.95E-04,6.95E-04,6.96E-04,6.98E-04,6.98E-04,6.98E-04,6.98E-04,6.97E-04,6.95E-04,6.94E-04,6.94E-04,6.94E-04,6.93E-04,6.94E-04,6.94E-04,6.96E-04,6.96E-04,6.98E-04,6.98E-04,6.97E-04,6.95E-04,6.93E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.96E-04,6.98E-04,6.98E-04,7.00E-04,7.00E-04,6.99E-04,6.97E-04,6.96E-04,6.95E-04,6.95E-04,6.94E-04,6.95E-04,6.95E-04,6.96E-04,6.97E-04,6.97E-04,6.98E-04,6.98E-04,6.98E-04,6.97E-04,6.94E-04,6.94E-04,6.94E-04,6.93E-04,6.95E-04,6.96E-04,6.97E-04,6.97E-04,6.99E-04,7.00E-04,6.98E-04,6.97E-04,6.96E-04,6.94E-04,6.94E-04,6.94E-04,6.94E-04,6.93E-04,6.94E-04,6.95E-04,6.97E-04,6.97E-04,6.97E-04,6.97E-04,6.96E-04,6.95E-04,6.93E-04,6.92E-04,6.93E-04,6.94E-04,6.95E-04,6.95E-04,6.97E-04,6.98E-04,6.99E-04,6.99E-04,6.97E-04,6.96E-04,6.95E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.94E-04,6.96E-04,6.97E-04,6.98E-04,6.98E-04,6.97E-04,6.97E-04,6.96E-04,6.94E-04,6.94E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.98E-04,6.98E-04,7.00E-04,6.98E-04,6.98E-04,6.97E-04,6.96E-04,6.95E-04,6.93E-04,6.93E-04,6.93E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.98E-04,6.98E-04,6.96E-04,6.96E-04,6.95E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.99E-04,6.99E-04,6.99E-04,6.98E-04,6.97E-04,6.96E-04,6.95E-04,6.93E-04,6.94E-04,6.94E-04,6.96E-04,6.95E-04,6.96E-04,6.98E-04,6.97E-04,6.98E-04,6.98E-04,6.96E-04,6.95E-04,6.94E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.99E-04,7.01E-04,6.99E-04,6.98E-04,6.98E-04,6.96E-04,6.95E-04,6.94E-04,6.94E-04,6.94E-04,6.94E-04,6.95E-04,6.97E-04,6.96E-04,6.98E-04,6.98E-04,6.98E-04,6.95E-04,6.95E-04,6.94E-04,6.95E-04,6.95E-04,6.95E-04,6.96E-04,6.97E-04,6.99E-04,6.99E-04,6.99E-04,6.99E-04,6.98E-04,6.95E-04,6.94E-04,6.93E-04,6.93E-04,6.94E-04,6.93E-04,6.95E-04,6.96E-04,6.98E-04,6.98E-04,6.97E-04,6.97E-04,6.95E-04,6.94E-04,6.94E-04,6.93E-04,6.94E-04,6.95E-04,6.95E-04,6.96E-04,6.98E-04,6.98E-04,6.99E-04,6.98E-04,6.96E-04,6.95E-04,6.95E-04,6.93E-04,6.92E-04,6.92E-04,6.94E-04,6.95E-04,6.96E-04,6.96E-04,6.97E-04,6.97E-04,6.96E-04,6.95E-04,6.94E-04,6.94E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.98E-04,6.98E-04,6.98E-04,6.98E-04,6.97E-04,6.96E-04,6.95E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.96E-04,6.97E-04,6.98E-04,6.97E-04,6.96E-04,6.95E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.99E-04,6.98E-04,6.97E-04,6.96E-04,6.94E-04,6.95E-04,6.93E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.94E-04,6.96E-04,6.96E-04,6.96E-04,6.97E-04,6.94E-04,6.93E-04,6.92E-04,6.91E-04,6.92E-04,6.93E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.98E-04,6.97E-04,6.96E-04,6.95E-04,6.93E-04,6.93E-04,6.91E-04,6.93E-04,6.93E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.96E-04,6.95E-04,6.95E-04,6.93E-04,6.94E-04,6.93E-04,6.93E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.99E-04,6.98E-04,6.97E-04,6.96E-04,6.95E-04,6.93E-04,6.93E-04,6.94E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.96E-04,6.95E-04,6.94E-04,6.94E-04,6.93E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.98E-04,6.98E-04,6.99E-04,6.98E-04,6.97E-04,6.98E-04,6.96E-04,6.94E-04,6.94E-04,6.94E-04,6.94E-04,6.95E-04,6.95E-04,6.97E-04,6.97E-04,6.97E-04,6.97E-04,6.96E-04,6.96E-04,6.95E-04,6.93E-04,6.94E-04,6.93E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.98E-04,6.98E-04,6.97E-04,6.96E-04,6.95E-04,6.93E-04,6.93E-04,6.94E-04,6.93E-04,6.94E-04,6.96E-04,6.97E-04,6.97E-04,6.98E-04,6.98E-04,6.95E-04,6.94E-04,6.94E-04,6.94E-04,6.93E-04,6.94E-04,6.94E-04,6.96E-04,6.96E-04,6.98E-04,6.99E-04,6.99E-04,6.98E-04,6.97E-04,6.95E-04,6.94E-04,6.94E-04,6.93E-04,6.94E-04,6.95E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.99E-04,6.96E-04,6.95E-04,6.94E-04,6.93E-04,6.94E-04,6.94E-04,6.95E-04,6.97E-04,6.97E-04,6.99E-04,6.99E-04,6.98E-04,6.98E-04,6.97E-04,6.96E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.98E-04,6.97E-04,6.95E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.97E-04,6.98E-04,6.98E-04,6.98E-04,6.98E-04,6.97E-04,6.94E-04,6.94E-04,6.93E-04,6.92E-04,6.93E-04,6.94E-04,6.95E-04,6.97E-04,6.96E-04,6.98E-04,6.98E-04,6.97E-04,6.96E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.93E-04,6.95E-04,6.96E-04,6.97E-04,6.97E-04,6.99E-04,6.98E-04,6.96E-04,6.95E-04,6.93E-04,6.93E-04,6.92E-04,6.93E-04,6.94E-04,6.93E-04,6.95E-04,6.96E-04,6.96E-04,6.97E-04,6.96E-04,6.95E-04,6.94E-04,6.93E-04,6.94E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.98E-04,6.99E-04,6.99E-04,6.99E-04,6.97E-04,6.96E-04,6.95E-04,6.92E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.97E-04,6.96E-04,6.97E-04,6.98E-04,6.96E-04,6.96E-04,6.96E-04,6.94E-04,6.94E-04,6.94E-04,6.94E-04,6.95E-04,6.98E-04,6.98E-04,6.99E-04,6.99E-04,6.98E-04,6.98E-04,6.96E-04,6.94E-04,6.93E-04,6.93E-04,6.94E-04,6.93E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.97E-04,6.97E-04,6.96E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.96E-04,6.97E-04,6.97E-04,6.99E-04,6.98E-04,6.98E-04,6.97E-04,6.95E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.94E-04,6.95E-04,6.97E-04,6.97E-04,6.97E-04,6.97E-04,6.96E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.96E-04,6.97E-04,6.98E-04,6.98E-04,6.99E-04,6.98E-04,6.97E-04,6.96E-04,6.94E-04,6.94E-04,6.92E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.96E-04,6.96E-04,6.96E-04,6.96E-04,6.96E-04,6.94E-04,6.93E-04,6.92E-04,6.92E-04,6.93E-04,6.94E-04,6.96E-04,6.97E-04,6.98E-04,6.98E-04,6.98E-04,6.97E-04,6.96E-04,6.93E-04,6.93E-04,6.92E-04,6.92E-04,6.93E-04,6.94E-04,6.94E-04,6.95E-04,6.95E-04,6.96E-04,6.96E-04,6.94E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.95E-04,6.97E-04,6.98E-04,6.98E-04,6.97E-04,6.96E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.97E-04,6.97E-04,6.96E-04,6.96E-04,6.94E-04,6.93E-04,6.93E-04,6.94E-04,6.96E-04,6.96E-04,6.97E-04,6.99E-04,6.99E-04,6.99E-04,6.99E-04,6.97E-04,6.95E-04,6.94E-04,6.93E-04,6.93E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.99E-04,6.98E-04,6.96E-04,6.94E-04,6.93E-04,6.94E-04,6.95E-04,6.96E-04,6.96E-04,6.97E-04,6.99E-04,7.01E-04,6.99E-04,6.99E-04,6.97E-04,6.96E-04,6.95E-04,6.95E-04,6.95E-04,6.94E-04,6.95E-04,6.94E-04,6.97E-04,6.97E-04,6.98E-04,6.98E-04,6.96E-04,6.95E-04,6.95E-04,6.93E-04,6.93E-04,6.94E-04,6.95E-04,6.95E-04,6.98E-04,6.99E-04,6.99E-04,7.00E-04,6.98E-04,6.97E-04,6.95E-04,6.94E-04,6.93E-04,6.93E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.96E-04,6.97E-04,6.96E-04,6.96E-04,6.95E-04,6.94E-04,6.94E-04,6.93E-04,6.94E-04,6.94E-04,6.95E-04,6.96E-04,6.97E-04,6.98E-04,6.98E-04,6.98E-04,6.96E-04,6.95E-04,6.94E-04,6.93E-04,6.93E-04,6.93E-04,6.94E-04};
const static float iphs_ch[1024] = {9.283929475,23.78842561,38.20812391,52.2462893,66.83248928,81.4566191,95.88754739,110.4031016,124.9328652,138.7881996,152.884864,167.1950127,181.3310967,195.6826129,210.1512419,224.1423101,238.5686547,253.2509398,267.8400619,282.2981484,296.9061781,311.1551348,325.0493158,339.411088,353.656034,7.866946355,22.27570116,36.78071295,50.79441302,65.32188478,80.01379556,94.43143122,108.932375,123.5345032,137.5317594,151.5168688,165.8659214,180.0001719,194.2338879,208.7268103,222.8734367,237.1175233,251.8887315,266.4340796,280.8149313,295.4769337,309.8244392,323.6762786,338.0318628,352.3563355,6.472938862,20.85138417,35.38676275,49.43627272,63.91487113,78.51814527,92.97348158,107.4425116,122.0934559,136.2227216,149.9659854,164.4055653,178.6113783,192.7741621,207.3015193,221.5359802,235.6746998,250.3186539,264.9728068,279.3218593,293.9682199,308.4216655,322.2151204,336.4681451,350.7925032,4.939014957,19.41629557,33.87283509,47.96692121,62.3263443,76.96342298,91.39870575,105.9317352,120.5448069,134.3633574,148.450167,162.8861946,177.1026646,191.2866478,205.746224,220.1020375,234.1298896,248.7676559,263.4048491,277.8253496,292.439911,306.8966224,320.7533892,334.937659,349.2619597,3.533720186,17.83481613,32.41580219,46.67358249,60.76978855,75.48106532,90.0000573,104.4476014,119.013404,133.1475972,147.0429814,161.4407927,175.6533666,189.8485799,204.3219071,218.7831448,232.7611496,247.3064977,261.9195121,276.4283054,291.0037911,305.4482412,319.3821282,333.5165505,347.8906987,1.97303913,16.3670689,30.88726409,45.27390271,59.23477602,73.99567098,88.60284124,102.9972148,117.5903476,131.7843576,145.6293215,159.9592372,174.1424183,188.3363138,202.8121047,217.2392515,231.2703695,245.87605,260.5535223,274.959355,289.4556005,304.0668388,318.0273683,332.09464,346.4040438,0.637874452,14.97306141,29.49365767,43.51217059,57.86374416,72.59627768,87.14598022,101.6191355,116.1141206,130.427134,144.2703217,158.5659173,172.7973988,186.9796059,201.3766723,215.930672,229.8764766,244.4193036,259.1279448,273.5008897,288.0191941,302.5462075,316.70796,330.6214496,345.0423512,359.2464453,13.48027591,28.04292731,42.26260588,56.43518728,71.04734227,85.68052483,100.0813155,114.7122635,129.0376529,142.8071009,157.0392699,171.3935364,185.4596048,199.8999297,214.3569275,228.4644209,242.8020716,257.5625655,272.0436849,286.5631925,301.1290525,315.4190903,329.1727819,343.593397,357.8532972,12.03195197,26.51433191,40.88658927,54.97792519,69.57529786,84.21392352,98.61798007,113.1397222,127.5621135,141.3797472,155.598108,169.9103766,184.0425644,198.2899169,212.8878625,227.0888054,241.3365016,255.9608606,270.5205899,284.9436114,299.5546204,313.5840196,327.6681935,342.0660048,356.2969133,10.37386801,24.92689371,39.38807419,53.32167469,67.98768776,82.66000337,97.05139754,111.574744,126.143125,139.9908963,154.1437107,168.4175338,182.5977355,196.8560315,211.3804093,225.7468225,239.7981659,254.5281211,269.0695731,283.466926,298.0648716,312.2811124,326.1750069,340.6449537,354.8351249,9.03543747,23.5248075,38.01389106,51.9963076,66.56039139,81.22560232,95.59201551,110.1966647,124.62914,138.5987223,152.7012309,167.0506845,181.1563444,195.4664358,209.9615354,223.9587916,238.3981996,253.1550839,267.669836,282.1016237,296.5892176,310.8927199,324.7320688,339.1772064,353.4381953,7.620803478,22.14397805,36.57376042,50.5845957,65.05259439,79.79337851,94.19892475,108.7640972,123.2928867,137.3022896,151.1792245,165.5266728,179.8267374,194.0352433,208.4873137,222.6526759,236.8396958,251.608383,266.2667184,280.6779943,295.1336743,309.5534872,323.3437909,337.6498716,352.0837219,6.273778564,20.60988226,35.17814864,49.24444628,63.65004982,78.30002005,92.73776654,107.256472,121.8021066,135.9646612,149.8642853,164.1644645,178.434678,192.6032487,207.1170267,221.3816825,235.4975411,250.1159986,264.8035549,279.1970117,293.7582307,308.2724671,321.9662846,336.3061698,350.6203292,4.81840724,19.17439258,33.74334652,47.85020961,62.19404824,76.84894592,91.28222333,105.827113,120.4266629,134.2188573,148.380839,162.6240662,176.9899637,191.1037596,205.5864833,219.981086,234.0229183,248.6574187,263.3468658,277.7097839,292.3083025,306.7367098,320.596284,334.8843165,349.2047785,3.418097206,17.70504108,32.3662413,46.52426956,60.68963168,75.39466321,89.94190203,104.3617149,118.9053441,133.0342661,146.8824958,161.2743483,175.5956124,189.6863754,204.1124335,218.6246646,232.5900643,247.1427462,261.820333,276.2478236,290.7412616,305.2874118,319.1436629,333.30553,347.6627759,1.85329085,16.10906579,30.67584249,44.61717793,59.07348827,73.82590344,88.37004829,102.799888,117.3538877,131.5955106,145.3734383,159.6640491,173.905672,188.1552017,202.548945,216.9990101,231.0323053,245.5870499,260.2549537,274.6686932,289.2131819,303.7765208,317.7628908,331.8316521,346.2200669,0.405940941,14.70170837,29.25324438,43.36285766,57.52185995,72.27977553,86.91026518,101.2635003,115.9034438,130.1581301,143.9835561,158.3260196,172.5597357,186.7419428,201.1267479,215.6090133,229.6706127,244.1542531,258.8176306,273.2713053,287.8148772,302.3538654,316.5188837,330.3591493,344.8161472,359.0155431,13.22530948,27.68391165,41.98678376,56.13031618,70.83351424,85.46159747,99.8919528,114.4639434,128.7857804,142.594075,156.8097428,171.1496854,185.2945356,199.6907999,214.2267514,228.2848558,242.7106847,257.3851203,271.8579318,286.3829971,300.9534981,314.7625947,328.9622771,343.3958983,357.6309894,11.77669906,26.30010281,40.69585146,54.79326074,69.46603471,84.0027884,98.4514211,113.0379076,127.4539962,141.2774168,155.4485659,169.8389287,183.8727969,198.3005166,212.8103986,226.9660204,241.3016084,255.9936911,270.4650702,284.9015562,299.6414236,313.5954214,327.5604773,342.0141521,356.2969133,10.48823048,24.98046531,39.35272267,53.32167469,67.95497185,82.59480072,96.98653866,111.6295761,126.06314,139.9062131,154.0126751,168.4059027,182.5426743,196.7832085,211.3000232,225.637502,239.7688304,254.4559284,269.0114178,283.4234957,298.0127897,312.1654322,326.078578,340.3850598,354.7196165,8.968859718,23.36976499,37.89947129,51.8617197,66.48264096,81.05251163,95.47054835,110.0106252,124.5639374,138.4765103,152.5177697,166.7978953,180.9251557,195.2972412,209.830328,223.8499868,238.1561248,252.8953619,267.4926773,281.9176468,296.5101493,310.7020967,324.5715832,338.8609908,353.1939432,7.463068064,21.80415649,36.29874045,50.30487747,64.81665017,79.54190712,94.02445895,108.4851811,123.0655942,137.0770024,151.020114,165.3845219,179.594632,193.794257,208.3557052,222.4980917,236.6951957,251.3844709,266.0299721,280.4477796,294.9766265,309.2742274,323.1838782,337.6053527,351.85345,6.049007031,20.40304432,34.93630295,49.08883081,63.43828444,78.11587126,92.62145601,107.0704898,121.6717013,135.8552835,149.6322945,163.9796854,178.2010829,192.4447111,206.8795928,221.1963305,235.2551224,249.9092179,264.629261,278.9659949,293.571962,308.0589829,321.8074606,336.049771,350.4289611,4.5291779,18.87651158,33.48396831,47.70112586,61.92659131,76.65041587,91.05017523,105.6010237,120.1727851,134.0716643,148.1596771,162.4599709,176.6943745,190.8748054,205.3226933,219.6953517,233.7946518,248.4826664,263.1012958,277.4859864,292.0125987,306.4720603,320.3685331,334.5961758,348.9539373,3.196476943,17.48095709,32.02464357,46.26322977,60.47757982,75.16714148,89.70922367,104.0776422,118.6706031,132.7702469,146.7218956,161.0893974,175.3068987,189.4948927,204.0046601,218.3517646,232.3957168,246.9333299,261.6387052,276.0157755,290.6307379,305.2070257,319.0305037,333.1739215,347.5489863,1.741048323,16.06890142,30.54474963,44.50848774,58.92171162,73.67286629,88.19735866,102.6286307,117.2477758,131.3656397,145.2457832,159.533873,173.8480324,188.0894834,202.4273059,216.9306561,230.9006968,245.3956245,260.1495294,274.605897,289.1188729,303.6958483,317.6472105,331.6483628,346.0787181,0.289974185,14.53182624,29.03844232,43.24436989,57.45344873,72.21388533,86.77716698,101.1612846,115.7327595,130.0175262,143.8163669,158.23681,172.3951821,186.5359643,200.926499,215.4681228,229.5007305,243.877858,258.5871867,273.0754109,287.5891889,302.1651902,316.3122177,330.2747526,344.6521093,358.8464631,13.11530149,27.56324664,41.82033938,55.99802011,70.65876196,85.29733033,99.68631807,114.249657,128.6609901,142.3213468,156.7072979,170.9710943,185.1393785,199.4659711,213.9860516,228.1035145,242.46225,257.1433319,271.6815753,286.0769801,300.7385814,314.5824567,328.8507794,343.1391557,357.4000872,11.64102254,26.08833743,40.4564122,54.53267931,69.12781744,83.82299409,98.22103457,112.7982964,127.2497939,141.05064,155.2206431,169.5224838,183.703545,198.0961424,212.5020897,226.7079027,240.9534217,255.6664173,270.1749242,284.6897335,299.2763919,313.3330065,327.3016148,341.7555187,356.0043608,10.15516983,24.68768363,39.0995324,52.96695622,67.64735055,82.34057913,96.82714167,111.3338723,125.8099497,139.6443139,153.7517499,168.0977085,182.1984982,196.5194758,211.0988576,225.4555305,239.4468852,254.2384907,268.7763903,283.2388886,297.8288701,311.9371083,325.9018204,340.179998,354.488657,8.681521141,23.18389733,37.69498248,51.66765873,66.27265175,80.90955854,95.31298483,109.84441,124.3399107,138.2922469,152.2532348,166.6712143,180.8103349,195.0712665,209.5965037,223.661197,237.9137634,252.6915033,267.2597124,281.6310531,296.3241671,310.492394,324.4110976,338.7426749,353.0138051,7.23927056,21.66114611,36.11212794,50.19802075,64.68412492,79.3582167,93.79561942,108.2798901,122.8374995,136.9298094,150.7809612,165.2002012,179.3629277,193.5807155,208.0648143,222.3099322,236.4842325,251.1416512,265.7389093,280.1965947,294.8199224,309.160266,322.9782435,337.3107376,351.6234646,5.759892284,20.19655015,34.74229928,48.80916988,63.14693515,77.82910564,92.27223794,106.8113408,121.3699814,135.5630747,149.4219042,163.6987067,177.9153486,192.1097597,206.5895613,220.9170707,235.0786513,249.7224908,264.2228044,278.7258108,293.2846807,307.7508459,321.5505461,335.8044302,350.1419663,4.351159763,18.70829102,33.20957859,47.42954364,61.61312584,76.37826069,90.87255816,105.2714008,119.9033228,133.8150936,147.8317731,162.2367464,176.5242632,190.6813174,205.1124176,219.5456377,233.4944216,248.0755796,262.8115508,277.2394997,291.8043857,306.3242371,320.1187806,334.3049984,348.6794903,2.839638527,17.14835481,31.70218265,46.04143762,60.2142482,74.86799996,89.47654532,103.8649028,118.4555719,132.5505174,146.4958636,160.7938082,175.0761111,189.1986733,203.7178371,218.1484217,232.1007579,246.7236845,261.3989795,275.7718098,290.3683803,304.9036443,318.8347811,332.9633593,347.2960253,1.507510528,15.79519925,30.33327073,44.3621542,58.73011437,73.45382434,88.07915737,102.4445965,117.0370418,131.2120296,145.1182427,159.4036396,173.6238911,187.7858155,202.1871218,216.6324313,230.6636639,245.1850623,259.9087723,274.3735051,288.9135247,303.5178874,317.4957776,331.4094965,345.8376173,0.057926082,14.30487747,28.84071442,43.00630572,57.25623649,72.00257831,86.46135237,100.9891679,115.4741835,129.8236371,143.6279782,157.9014575,172.216018,186.3444243,200.7692793,215.2600817,229.3372655,243.7397178,258.4450931,272.9297076,287.4224008,301.9735357,316.1806092,330.1001722,344.4681897,358.6721119,12.9187195,27.43020572,41.66735952,55.78877575,70.43674063,85.06104234,99.48520972,114.0944999,128.5125939,142.231908,156.4461435,170.7999516,184.961876,199.336196,213.74518,227.9110578,242.1988611,256.9723611,271.4497563,285.9644511,300.5280193,314.4017456,328.6209658,343.0275434,357.2269392,11.4919388,25.9308885,40.25816863,54.2773691,68.94137682,83.59151894,98.03992246,112.6352898,127.0451905,140.8503337,155.0321398,169.3618836,183.4690905,197.8371653,212.2918713,226.5950299,240.7755181,255.5105154,270.0002292,284.5466659,299.0418801,313.1477691,327.2213433,341.5520612,355.8269157,9.993194529,24.52633857,38.94133862,52.89825853,67.47047832,82.16697277,96.53756856,111.1138564,125.6029399,139.4827969,153.5677157,167.9270815,182.0849952,196.4070614,210.887436,225.2378636,239.285712,253.9957856,268.6015807,283.0105074,297.6195111,311.8162141,325.7085043,340.0098294,354.3504595,8.526134855,22.91197133,37.47914909,51.42907891,65.98422455,80.67842717,95.07532173,109.6026789,124.2113388,138.0632355,152.0697736,166.4038719,180.57949,194.8448906,209.3334585,223.4759596,237.7830716,252.5049481,267.0237682,281.3898949};

#define FRAME_SIZE 512
#define SCRATCH_SIZE (2*FRAME_SIZE)

static float frame_buf[FRAME_SIZE];
static uint8_t scratch[SCRATCH_SIZE] = {0};

void compression_test4(){
  const int wavelet_level = 3;
  const int q_bits = 10;
  const int keep_num_coeff = 0.3*FRAME_SIZE;

  memcpy(frame_buf, eeg_ch, sizeof(frame_buf));

  size_t compress_size = compress_frame(
      frame_buf, // frame_buf
      FRAME_SIZE, // frame_size
      wavelet_level, // wavelet_level
      q_bits,
      keep_num_coeff,
      scratch, // comp_buf
      SCRATCH_SIZE // comp_buf_size
      );

  LOGV(TAG,"compress_size: %u", compress_size);
}
